<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>Risk Box ä¸‰ç¶­é¢¨æ§æ¶æ§‹</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* --- åŸºç¤æ ¸å¿ƒæ¨£å¼ --- */
        :root {
            --primary-blue: #3498db;
            --dark-blue: #2c3e50;
            --success-green: #27ae60;
            --warning-yellow: #f1c40f;
            --danger-red: #c0392b;
            --bg-light: #f4f7f9;
        }

        body {
            font-family: 'Segoe UI', 'Noto Sans TC', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--bg-light);
        }

        .container {
            background-color: #fff;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        /* --- æ¨™é¡Œèˆ‡æ®µè½ --- */
        h1 {
            color: var(--dark-blue);
            border-bottom: 3px solid var(--primary-blue);
            padding-bottom: 10px;
            text-align: center;
            margin-bottom: 30px;
        }
        h2 {
            color: #2980b9;
            border-left: 5px solid var(--primary-blue);
            padding-left: 15px;
            margin-top: 40px;
        }
        h3 {
            color: #16a085;
            margin-top: 25px;
        }

        /* --- è¡¨æ ¼æ¨£å¼ --- */
        .table-responsive { overflow-x: auto; margin: 20px 0; }
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #34495e;
            color: white;
        }
        tr:nth-child(even) { background-color: #f9f9f9; }

        /* --- ç¨‹å¼ç¢¼èˆ‡å…¬å¼ --- */
        code, pre {
            background-color: #272822;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', Courier, monospace;
            overflow-x: auto;
            display: block;
            margin: 15px 0;
            line-height: 1.4;
        }
        .math {
            text-align: center;
            font-size: 1.4em;
            margin: 25px 0;
            font-style: italic;
            color: var(--dark-blue);
            background: #eee;
            padding: 10px;
            border-radius: 4px;
        }

        /* --- æç¤ºæ¡†çµ„ä»¶ --- */
        .highlight {
            background-color: #e8f4fd;
            padding: 15px;
            border-radius: 5px;
            border-left: 5px solid var(--primary-blue);
            margin: 20px 0;
        }
        .warning {
            background-color: #fff3cd;
            padding: 15px;
            border-radius: 5px;
            border-left: 5px solid #ffc107;
            font-weight: bold;
            margin: 20px 0;
        }

        /* --- ç¶²æ ¼çµ„ä»¶ --- */
        .event-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .event-item {
            padding: 15px;
            text-align: center;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .level-0 { background-color: var(--success-green); }
        .level-1 { background-color: var(--warning-yellow); color: #333; }
        .level-2 { background-color: #e67e22; }
        .level-3 { background-color: var(--danger-red); }

        /* --- æ±ºç­–éˆåœ–è¡¨ --- */
        .flowchart-container {
            background: #f9f9f9;
            padding: 30px;
            border-radius: 10px;
            margin: 30px 0;
            border: 1px solid #eee;
        }
        .flow-step {
            border: 2px solid var(--dark-blue);
            padding: 15px;
            margin: 10px auto;
            width: 85%;
            text-align: center;
            background: white;
            border-radius: 5px;
        }
        .flow-arrow { text-align: center; font-size: 24px; color: var(--primary-blue); line-height: 1; }
        .parallel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }
        .tag-engine { background: #e8f4fd; border-color: var(--primary-blue); }
        .score-engine { background: #fef9e7; border-color: var(--warning-yellow); }
        .conf-engine { background: #eafaf1; border-color: var(--success-green); }
        
        .decision-diamond {
            width: 130px;
            height: 130px;
            background: #ecf0f1;
            border: 2px solid #2980b9;
            margin: 30px auto;
            transform: rotate(45deg);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .decision-text { transform: rotate(-45deg); font-size: 14px; font-weight: bold; text-align: center; }

        /* --- 3D è¦–è¦ºåŒ–çŸ©é™£ --- */
        .risk-box-viz {
            margin: 50px auto;
            perspective: 1200px;
            width: 100%;
            height: 450px;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #1a1a1a;
            border-radius: 12px;
            position: relative;
        }
        .scene {
            width: 200px;
            height: 200px;
            transform-style: preserve-3d;
            transform: rotateX(-20deg) rotateY(-35deg);
            transition: transform 0.8s ease;
        }
        .risk-box-viz:hover .scene { transform: rotateX(-10deg) rotateY(-15deg) scale(1.1); }
        .axis { position: absolute; background: rgba(255, 255, 255, 0.3); transform-origin: left; }
        .axis-x { width: 250px; height: 2px; transform: rotateY(0deg); }
        .axis-y { width: 250px; height: 2px; transform: rotateZ(-90deg); }
        .axis-z { width: 250px; height: 2px; transform: rotateY(-90deg); }
        .axis-label { position: absolute; color: #fff; font-size: 12px; font-weight: bold; white-space: nowrap; }
        .cube { width: 100px; height: 100px; position: absolute; transform-style: preserve-3d; transform: translate3d(50px, -50px, 50px); }
        .face { position: absolute; width: 100px; height: 100px; border: 1px solid rgba(255, 255, 255, 0.6); }
        .face-front  { transform: rotateY(0deg) translateZ(50px); background: rgba(192, 57, 43, 0.6); }
        .face-back   { transform: rotateY(180deg) translateZ(50px); background: rgba(192, 57, 43, 0.4); }
        .face-right  { transform: rotateY(90deg) translateZ(50px); background: rgba(230, 126, 34, 0.5); }
        .face-left   { transform: rotateY(-90deg) translateZ(50px); background: rgba(230, 126, 34, 0.5); }
        .face-top    { transform: rotateX(90deg) translateZ(50px); background: rgba(241, 196, 15, 0.5); }
        .face-bottom { transform: rotateX(-90deg) translateZ(50px); background: rgba(46, 204, 113, 0.5); }
        .pulse { position: absolute; width: 100px; height: 100px; border: 3px solid var(--primary-blue); border-radius: 2px; animation: scan 2.5s infinite linear; transform-style: preserve-3d; }
        @keyframes scan { 0% { transform: translate3d(50px, -50px, 0px); opacity: 0; } 50% { opacity: 1; } 100% { transform: translate3d(50px, -50px, 150px); opacity: 0; } }
        .legend { position: absolute; bottom: 15px; left: 20px; color: #aaa; font-size: 11px; line-height: 1.5; }
    </style>
</head>
<body>

<div class="container">
    <h1>Risk Box ä¸‰ç¶­é¢¨æ§æ¶æ§‹ï¼ˆå·¥ç¨‹å¯¦ä½œç‰ˆï¼‰</h1>
    
    <div class="highlight">
        <p><strong>åŸå‰‡ï¼š</strong> è½åœ°éƒ¨ç½²ã€ç›£ç†å¯ç¨½æ ¸ã€å·¥ç¨‹å¯å¯¦ä½œã€‚</p>
        <p><strong>æ•¸æ“šç¯„åœï¼š</strong> ISO-8583, ISO-20022, 165è¯é˜²é»‘åå–®, å…§éƒ¨ç™½åå–®, è¡Œç‚ºäº¤æ˜“çµ±è¨ˆã€‚</p>
    </div>

    <h2>ä¸€ã€ ç³»çµ±å®šä½èˆ‡æ ¸å¿ƒæ¶æ§‹</h2>
    <p>Risk Box æ˜¯éƒ¨ç½²æ–¼ <strong>OSI Layer 7</strong> çš„äº¤æ˜“é¢¨éšªåˆ†æå¼•æ“ï¼Œå®šä½ç‚ºã€Œæ—è·¯åˆ†æã€ï¼Œä¸é˜»æ–·äº¤æ˜“ã€ä¸åƒèˆ‡å¸³å‹™ï¼Œåƒ…è¼¸å‡ºé¢¨éšªæ¨™è¨˜èˆ‡è™•ç½®å»ºè­°ã€‚</p>
    
    <div class="event-grid">
        <div class="event-item level-0">1. Risk Score<br>å±éšªç¨‹åº¦</div>
        <div class="event-item" style="background-color: #2980b9;">2. Confidence Index<br>å¯ä¿¡ç¨‹åº¦</div>
        <div class="event-item" style="background-color: #8e44ad;">3. AI Logic Filter<br>è¡Œç‚ºèªæ„</div>
    </div>

    <h2>äºŒã€ ç³»çµ±è³‡æ–™ä¾†æºèˆ‡æ ¼å¼</h2>
    
    <h3>2.1 ISO-8583 æ¬„ä½æ˜ å°„</h3>
    <div class="table-responsive">
        <table>
            <thead>
                <tr>
                    <th>æ¬„ä½</th>
                    <th>èªªæ˜</th>
                    <th>ç”¨é€”</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>MTI</td><td>è¨Šæ¯é¡å‹</td><td>äº¤æ˜“é¡å‹åˆ¤å®š</td></tr>
                <tr><td>DE4</td><td>Amount</td><td>é‡‘é¡åˆ†æ</td></tr>
                <tr><td>DE18</td><td>MCC</td><td>å•†æˆ¶é¡å‹åˆ†æ</td></tr>
                <tr><td>DE43</td><td>Merchant Name</td><td>é¡å‹åˆ¤æ–·</td></tr>
                <tr><td>DE61</td><td>POS Data</td><td>äº¤æ˜“ç’°å¢ƒ</td></tr>
                <tr><td>DE103</td><td>Receiving Account</td><td>æ”¶æ¬¾å¸³æˆ¶</td></tr>
            </tbody>
        </table>
    </div>

    <h3>2.2 ISO-20022 XPath é—œéµè·¯å¾‘</h3>
    <ul>
        <li><code>/IntrBkSttlmAmt</code>: è·¨è¡Œæ¸…ç®—é‡‘é¡</li>
        <li><code>/DbtrAcct/Id</code>: ä»˜æ¬¾äººå¸³æˆ¶è­˜åˆ¥</li>
        <li><code>/CdtrAcct/Id</code>: æ”¶æ¬¾äººå¸³æˆ¶è­˜åˆ¥</li>
        <li><code>/CdtrAgt/BIC</code>: æ¥æ”¶è¡Œä»£ç¢¼ï¼ˆè·¨å¢ƒé«˜é¢¨éšªè­˜åˆ¥ï¼‰</li>
    </ul>

    <h3>2.3 é»‘/ç™½åå–®è³‡æ–™æ ¼å¼ (JSON)</h3>
    <pre>
{
  "account_hash": "hash_value",
  "risk_type": "fraud_mule",
  "confidence": 0.92,
  "source": "165",
  "last_updated": "2026-02-01"
}</pre>

    <h2>ä¸‰ã€ Risk Score è¨­è¨ˆï¼ˆé¢¨éšªæ¬Šå€¼ï¼‰</h2>
    <div class="math">
        R = Î£ (w_i * f_i)
    </div>

    <h3>3.1 é¢¨éšªæ¬Šé‡è¡¨ (é‡é»æ¨™ç±¤)</h3>
    <div class="table-responsive">
        <table>
            <thead>
                <tr>
                    <th>ç·¨è™Ÿ</th>
                    <th>ç¶­åº¦</th>
                    <th>æ¢ä»¶</th>
                    <th>æ¬Šé‡</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>R1</td><td>é«˜é½¡å¤§é¡</td><td>>70æ­² & å¤§é¡</td><td>+40</td></tr>
                <tr><td>R6</td><td>å¿«é€Ÿå¤–ç§»</td><td>å…¥å¸³å³è½‰å‡º</td><td>+45</td></tr>
                <tr><td>G1</td><td>åŒè£ç½®å¤šå¸³æˆ¶</td><td>é—œè¯ç•°å¸¸</td><td>+50</td></tr>
                <tr><td>G3</td><td>é»‘åå–®å‘½ä¸­</td><td>165/å¢ƒå¤–é»‘åå–®</td><td>+60</td></tr>
                <tr><td>T5</td><td>è·¨å¢ƒé«˜é¢¨éšª</td><td>ç›®æ¨™åœ‹é«˜é¢¨éšª</td><td>+40</td></tr>
            </tbody>
        </table>
    </div>

    <div class="warning">
        âš  åå–®ä¿®æ­£ä¿‚æ•¸ï¼šé»‘åå–® +60 | ç™½åå–® Ã— 0.75 | ä¿è­·åå–® Ã— 1.15
    </div>

    <h2>å››ã€ æ™‚é–“è¡°æ¸›èˆ‡ç´¯ç©é¢¨éšª</h2>
    <div class="math">
        R_t = R * e^(-Î» * Î”t)
    </div>
    <p>ç¢ºä¿èˆŠé¢¨éšªéš¨æ™‚é–“æ·¡åŒ–ï¼Œä¸¦é€é <code>R_cum = Î£ R_t</code> ç›£æ§é•·æœŸã€Œæ…¢æ€§æŠ½ä¹¾ã€è¡Œç‚ºã€‚</p>

    <h2>äº”ã€ Confidence Index (ä¿¡å¿ƒå¯é åº¦)</h2>
    <div class="math">
        C = 1 - Î  (1 - p_i)
    </div>
    <ul>
        <li>165é»‘åå–®å¯ä¿¡åº¦: 0.9</li>
        <li>è¡Œç‚ºç•°å¸¸æ¨¡å‹å¯ä¿¡åº¦: 0.6</li>
        <li>é‡‘é¡ç•°å¸¸å¯ä¿¡åº¦: 0.4</li>
    </ul>

    <h2>å…­ã€ AI Logic Filter è¡Œç‚ºæ¨™ç±¤</h2>
    <p>AI è¼¸å‡ºè¡Œç‚ºèªæ„æ¨™ç±¤ï¼Œå¸¸è¦‹åŒ…å«ï¼š</p>
    <ul>
        <li><code>ACCOUNT_CONTROL_PATTERN</code>: å¸³æˆ¶å—æ§ç‰¹å¾µ</li>
        <li><code>FUNNEL_PATTERN</code>: æ¼æ–—æ­¸é›†æ¨¡å¼</li>
        <li><code>RAPID_DRAIN_PATTERN</code>: é‡‘æµå¿«é€Ÿæ’ä¹¾</li>
    </ul>

    <h2>ä¸ƒã€ ä¸‰ç¶­æ±ºç­–èåˆçŸ©é™£</h2>
    <div class="table-responsive">
        <table>
            <thead>
                <tr>
                    <th>Risk Score</th>
                    <th>Confidence</th>
                    <th>Event Level</th>
                    <th>UI ç‡ˆè™Ÿ</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>ä½ / ä¸­</td><td>ä½</td><td>0</td><td>ç¶  (æ­£å¸¸)</td></tr>
                <tr><td>ä¸­</td><td>ä¸­</td><td>1</td><td>é»ƒ (å¾®ç•°å¸¸)</td></tr>
                <tr><td>é«˜</td><td>ä¸­</td><td>2</td><td>æ©˜ (è‡¨ç•Œ)</td></tr>
                <tr><td>é«˜</td><td>é«˜</td><td>3</td><td>ç´… (çµ•å°ç•°å¸¸)</td></tr>
            </tbody>
        </table>
    </div>

    <h2>å…«ã€ ç³»çµ±è¼¸å‡º JSON ç¯„ä¾‹</h2>
    <pre>
{
  "transaction_id": "TX123",
  "risk_score": 185,
  "confidence": 0.91,
  "event_level": 3,
  "behavior_tags": [
    "ACCOUNT_CONTROL_PATTERN",
    "RAPID_DRAIN_PATTERN"
  ],
  "risk_factors": ["R6", "G3", "T1"],
  "timestamp": "2026-02-25T13:22:00Z"
}</pre>

    <h2>ä¹ã€ éƒ¨ç½²å»ºè­°</h2>
    <ul>
        <li><strong>å³æ™‚å±¤</strong>: Kafka + Streaming Risk Engine (å»¶é² &lt; 50ms)</li>
        <li><strong>åˆ†æå±¤</strong>: æ‹“æ’²åˆ†æèˆ‡ AI æ¨¡å¼æ›´æ–°</li>
        <li><strong>ç¨½æ ¸å±¤</strong>: å› å­å¯è¿½æº¯æ€§èˆ‡ç‰ˆæœ¬å›æº¯</li>
    </ul>

    <h2>åã€ å¸³æˆ¶çµæ§‹è®Šå‹•é¢¨éšª (Meta-Risk)</h2>
    <div class="table-responsive">
        <table>
            <thead>
                <tr>
                    <th>ç›£æ§è¡Œç‚º</th>
                    <th>é¢¨éšªç­‰ç´š</th>
                    <th>è§¸ç™¼ç¶­åº¦</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>æ–°å¢ç´„å®šè½‰å¸³å¸³æˆ¶</td><td>é«˜</td><td>çµæ§‹æ€§é¢¨éšªé»</td></tr>
                <tr><td>æå‡è½‰å¸³é™é¡</td><td>é«˜</td><td>çµæ§‹æ€§é¢¨éšªé»</td></tr>
                <tr><td>OTP é©—è­‰è¡Œç‚ºç•°å¸¸é »ç¹</td><td>ä¸­</td><td>è¡Œç‚ºèªæ„åˆ¤å®š</td></tr>
                <tr><td>ç™»å…¥è£ç½®/IP é »ç¹è®Šæ›´</td><td>ä¸­</td><td>R8 / R9</td></tr>
            </tbody>
        </table>
    </div>

    <h2>åä¸€ã€ æ•ˆèƒ½èˆ‡å»¶é²è¨­è¨ˆå»ºè­°</h2>
    <div class="highlight">
        <ul>
            <li><strong>å³æ™‚æ±ºç­–ç›®æ¨™ï¼š</strong> åˆ†ææ™‚é–“ &lt; 50msã€‚</li>
            <li><strong>é«˜ä½µç™¼æ”¯æ´ï¼š</strong> æ¡ç”¨è¨˜æ†¶é«”å¿«å– (In-Memory Cache) å­˜å„²é«˜é »è¨ªå•ä¹‹é¢¨éšªç‰¹å¾µã€‚</li>
            <li><strong>éåŒæ­¥å¯«å…¥ï¼š</strong> åˆ†æçµæœå³æ™‚å›å‚³ï¼Œå®Œæ•´æ—¥èªŒæ¡éåŒæ­¥å¯«å…¥è³‡æ–™åº«ã€‚</li>
        </ul>
    </div>

    <h2>åäºŒã€ éƒ¨ç½²å»ºè­°æ¶æ§‹</h2>
    <ul>
        <li><strong>å³æ™‚å±¤ (Hot Layer)ï¼š</strong> Kafka / MQ æ¥æ”¶å ±æ–‡ï¼ŒåŸ·è¡Œ Streaming Risk Engineã€‚</li>
        <li><strong>åˆ†æå±¤ (Warm Layer)ï¼š</strong> è² è²¬è¤‡é›œçš„ã€Œæ‹“æ’²åˆ†æã€èˆ‡è¡Œç‚ºæ¨¡å‹é‡è¨“ç·´ã€‚</li>
        <li><strong>æƒ…è³‡å±¤ (Cold Layer)ï¼š</strong> å®šæ™‚åŒæ­¥ 165 é»‘åå–®èˆ‡é€²è¡Œæ•¸æ“šæ­¸æª”ã€‚</li>
    </ul>

    <h2>åä¸‰ã€ ç›£ç†èˆ‡ç¨½æ ¸æ”¯æ´ (Compliance)</h2>
    <ul>
        <li>âœ… <strong>æ±ºç­–å¯è§£é‡‹æ€§ï¼š</strong> æ¯ä¸€ç­† Event å¿…é ˆå°æ‡‰å…·é«”çš„ <code>risk_factors</code> ç·¨è™Ÿã€‚</li>
        <li>âœ… <strong>ç‰ˆæœ¬å›æº¯ï¼š</strong> æ”¯æŒå›æ¸¬èˆŠç‰ˆè¦å‰‡åœ¨æ­·å²æ•¸æ“šä¸Šçš„è¡¨ç¾ã€‚</li>
        <li>âœ… <strong>è¦å‰‡è®Šæ›´ç´€éŒ„ï¼š</strong> æ‰€æœ‰çš„æ¬Šé‡èª¿æ•´èˆ‡æ¨¡å‹æ›´æ–°éœ€ä¿ç•™ Operator Logã€‚</li>
    </ul>

    <h2>åå››ã€ ç‚ºä½•æ­¤æ¶æ§‹æœ‰æ•ˆï¼Ÿ</h2>
    <div class="event-grid">
        <div class="event-item" style="background-color: #34495e;">âœ” é¢¨éšªæ¬Šå€¼<br>(æ•æ‰å±éšªæ€§)</div>
        <div class="event-item" style="background-color: #34495e;">âœ” ä¿¡å¿ƒæŒ‡æ•¸<br>(æ’é™¤å½é™½æ€§)</div>
        <div class="event-item" style="background-color: #34495e;">âœ” è¡Œç‚ºèªæ„<br>(è­˜åˆ¥è©é¨™äººæ ¼)</div>
    </div>

    <h2>åäº”ã€ Behavior Tag å®Œæ•´è¡Œç‚ºå­—å…¸</h2>
    
    <h3>15.1 ä¿¡ä»»èˆ‡é—œä¿‚é¡ (Trust & Relationship)</h3>
    <div class="table-responsive">
        <table>
            <thead>
                <tr>
                    <th>æ¨™ç±¤ä»£ç¢¼ (Behavior Tag)</th>
                    <th>è¡Œç‚ºèªæ„å®šç¾©</th>
                    <th>AI åµæ¸¬é‚è¼¯</th>
                </tr>
            </thead>
            <tbody>
                <tr><td><code>TRUST_BUILDING_PATTERN</code></td><td>ä¿¡ä»»å»ºç«‹å‹</td><td>å¸³æˆ¶åœ¨å¤§é¡è½‰å¸³å‰ï¼Œæœ‰è¤‡æ•¸ç­†å°é¡æ¶ˆè²»ç´€éŒ„ã€‚</td></tr>
                <tr><td><code>RELATIONSHIP_PAYMENT_PATTERN</code></td><td>æ—¢æœ‰é—œä¿‚æ”¯ä»˜</td><td>æ”¶æ¬¾æ–¹èˆ‡ä»˜æ¬¾æ–¹åœ¨éå» 180 å¤©å…§æœ‰éé›™å‘é‡‘æµå¾€ä¾†ã€‚</td></tr>
            </tbody>
        </table>
    </div>

    <h3>15.2 å¸³æˆ¶å—æ§èˆ‡ç•°å¸¸é¡ (Account Control)</h3>
    <div class="table-responsive">
        <table>
            <thead>
                <tr>
                    <th>æ¨™ç±¤ä»£ç¢¼ (Behavior Tag)</th>
                    <th>è¡Œç‚ºèªæ„å®šç¾©</th>
                    <th>AI åµæ¸¬é‚è¼¯</th>
                </tr>
            </thead>
            <tbody>
                <tr><td><code>ACCOUNT_CONTROL_PATTERN</code></td><td>å¸³æˆ¶å—æ§ç‰¹å¾µ</td><td>æ“ä½œåœç•™æ™‚é–“æ¥µçŸ­ã€å¤šè™•è¤‡è£½è²¼ä¸Šã€‚</td></tr>
                <tr><td><code>DEVICE_TAKEOVER_PATTERN</code></td><td>è£ç½®å¥ªå–æ¨¡å¼</td><td>ç™»å…¥æŒ‡ç´‹èˆ‡å¸¸ç”¨åœ°ç†ä½ç½®ç™¼ç”Ÿç¬é–“ä½ç§»ã€‚</td></tr>
            </tbody>
        </table>
    </div>

    <h3>15.3 æ´—éŒ¢æ‹“æ’²é¡ (Topology & Flow)</h3>
    <div class="table-responsive">
        <table>
            <thead>
                <tr>
                    <th>æ¨™ç±¤ä»£ç¢¼ (Behavior Tag)</th>
                    <th>è¡Œç‚ºèªæ„å®šç¾©</th>
                    <th>AI åµæ¸¬é‚è¼¯</th>
                </tr>
            </thead>
            <tbody>
                <tr><td><code>FUNNEL_PATTERN</code></td><td>æ¼æ–—æ­¸é›†ç‰¹å¾µ</td><td>è¤‡æ•¸å¸³æˆ¶åŒ¯å…¥å–®ä¸€å¸³æˆ¶ï¼Œé‡‘é¡æ¥è¿‘æ•´æ•¸ã€‚</td></tr>
                <tr><td><code>LAYERING_PATTERN</code></td><td>åˆ†å±¤å‰é›¢ç‰¹å¾µ</td><td>è³‡é‡‘åœ¨æ¥µçŸ­æ™‚é–“å…§ç¶“éå¤šå±¤ç´šè½‰ç™¼ã€‚</td></tr>
                <tr><td><code>RAPID_DRAIN_PATTERN</code></td><td>å¿«é€Ÿæ’ä¹¾è¡Œç‚º</td><td>å…¥å¸³å¾Œ 5 åˆ†é˜å…§ï¼Œé¤˜é¡æ¶ˆè€—ç‡è¶…é 95%ã€‚</td></tr>
            </tbody>
        </table>
    </div>

    <h3>15.4 è©é¨™æ¨¡å‹ç‰¹å¾µ (Fraud Modality)</h3>
    <div class="table-responsive">
        <table>
            <thead>
                <tr>
                    <th>æ¨™ç±¤ä»£ç¢¼ (Behavior Tag)</th>
                    <th>è¡Œç‚ºèªæ„å®šç¾©</th>
                    <th>AI åµæ¸¬é‚è¼¯</th>
                </tr>
            </thead>
            <tbody>
                <tr><td><code>STRUCTURED_TRANSFER_PATTERN</code></td><td>ç¢åŒ–è¦é¿ç‰¹å¾µ</td><td>åˆ»æ„é¿é–‹ç”³å ±é–€æª»æˆ–é€£çºŒå®šé¡è³¼è²·ã€‚</td></tr>
                <tr><td><code>CROSS_BORDER_GREY_ZONE</code></td><td>è·¨å¢ƒç°è‰²åœ°å¸¶</td><td>åŒ¯å¾€é«˜é¢¨éšªåœ‹ï¼Œä¸”ç”¨é€”èªªæ˜èˆ‡å¸³æˆ¶æ€§è³ªä¸ç¬¦ã€‚</td></tr>
            </tbody>
        </table>
    </div>

    <div class="warning">
        ğŸ’¡ å·¥ç¨‹å¯¦ä½œè¨»è¨˜ï¼šç•¶ TRUST_BUILDING_PATTERN å‡ºç¾æ™‚ï¼Œæ‡‰è‡ªå‹•èª¿é«˜ Confidence Index æ•æ„Ÿåº¦ã€‚
    </div>

    <h2>åå…­ã€ AI æ¨¡å‹è¨“ç·´è³‡æ–™é›†è¨­è¨ˆ (Data Schema)</h2>
    
    <h3>16.1 ç‰¹å¾µçµ„ä»¶ (Feature Sets)</h3>
    <div class="table-responsive">
        <table>
            <thead>
                <tr>
                    <th>ç‰¹å¾µé¡åˆ¥</th>
                    <th>æ¬„ä½åç¨± (Feature Key)</th>
                    <th>å®šç¾©èˆ‡è½‰æ›é‚è¼¯</th>
                    <th>è³‡æ–™é¡å‹</th>
                </tr>
            </thead>
            <tbody>
                <tr><td rowspan="3"><strong>æ™‚åºè¡Œç‚º (T)</strong></td><td><code>t_freq_1h</code></td><td>1 å°æ™‚å…§äº¤æ˜“æ¬¡æ•¸</td><td>Integer</td></tr>
                <tr><td><code>t_amt_std_dev</code></td><td>é‡‘é¡æ¨™æº–å·® (åµæ¸¬å®šé¡è¦é¿)</td><td>Float</td></tr>
                <tr><td><code>t_avg_interval</code></td><td>äº¤æ˜“å¹³å‡é–“éš”ç§’æ•¸</td><td>Float</td></tr>
                <tr><td rowspan="3"><strong>æ‹“æ’²é—œè¯ (G)</strong></td><td><code>g_in_degree</code></td><td>å…¥å¸³ä¾†æºå¸³æˆ¶ç¸½æ•¸</td><td>Integer</td></tr>
                <tr><td><code>g_mule_link_dist</code></td><td>èˆ‡é»‘åå–®æœ€çŸ­è·¯å¾‘è·é›¢</td><td>Integer</td></tr>
                <tr><td><code>g_device_overlap</code></td><td>è£ç½®é—œè¯éä¹‹å¸³æˆ¶ç¸½æ•¸</td><td>Integer</td></tr>
            </tbody>
        </table>
    </div>

    <h3>16.2 æ¨™ç±¤ç³»çµ± (Labeling System)</h3>
    <ul>
        <li><strong>Label 0 (Normal):</strong> äººå·¥è¦†æ ¸ç„¡å ±æ¡ˆç´€éŒ„ã€‚</li>
        <li><strong>Label 1 (Fraud):</strong> 165 è¯é˜²ç¢ºèªå—å®³è€…å ±æ¡ˆå¸³æˆ¶ã€‚</li>
        <li><strong>Label 2 (Mule):</strong> æ´—éŒ¢äººé ­æˆ¶ï¼ˆå¿«é€²å¿«å‡ºï¼‰ã€‚</li>
        <li><strong>Label 3 (Evasion):</strong> æ¸¬è©¦æ€§äº¤æ˜“ï¼ˆè·¨è¡Œæ¸¬å¡ï¼‰ã€‚</li>
    </ul>

    <h3>16.3 è¨“ç·´é›†è¼¸å‡ºç¯„ä¾‹</h3>
    <pre>
{
  "label": 1,
  "features": {
    "t_freq_1h": 12,
    "t_amt_std_dev": 15.5,
    "g_in_degree": 8,
    "g_mule_link_dist": 1,
    "r_is_new_device": 1,
    "behavior_context": "RAPID_DRAIN_PATTERN"
  }
}</pre>

    <div class="highlight">
        <strong>âš¡ å·¥ç¨‹å¯¦ä½œï¼šç‰¹å¾µå·¥ç¨‹è‡ªå‹•åŒ– Pipeline</strong><br>
        1. æŠ½å– (Extract) â†’ 2. èšåˆ (Aggregate) â†’ 3. è½æ¹– (Data Lake)
    </div>

    <div class="flowchart-container">
        <h2 style="text-align:center; border:none; margin-top:0;">Risk Box å¾Œç«¯å³æ™‚æ±ºç­–éˆ (Decision Chain)</h2>
        <div class="flow-step"><strong>1. å ±æ–‡è¼¸å…¥å±¤</strong><br>è§£æ ISO-8583 / ISO-20022 é—œéµæ¬„ä½</div>
        <div class="flow-arrow">â†“</div>
        <div class="flow-step"><strong>2. è³‡æ–™é å–</strong><br>å¾ Cache æå–ï¼šåŸºç·šã€åå–®æ¨™è¨˜ã€è¿‘ 1hr é »æ¬¡</div>
        <div class="flow-arrow">â†“</div>
        <div class="parallel-grid">
            <div class="flow-step score-engine"><strong>3a. Risk Score</strong><br>Î£ (wi * fi)</div>
            <div class="flow-step conf-engine"><strong>3b. Confidence</strong><br>1 - Î  (1 - pi)</div>
            <div class="flow-step tag-engine"><strong>3c. AI Logic</strong><br>è¡Œç‚ºèªæ„æ¨™ç±¤æƒæ</div>
        </div>
        <div class="flow-arrow">â†“</div>
        <div class="decision-diamond"><div class="decision-text">ä¸‰ç¶­æ±ºç­–<br>èåˆçŸ©é™£</div></div>
        <div class="flow-arrow">â†“</div>
        <div class="flow-step" style="border-width: 4px; border-color: var(--danger-red);">
            <strong>4. äº‹ä»¶è¼¸å‡º (Event Output)</strong><br>Level (0-3) + Tags + Factors
        </div>
    </div>

    <div class="risk-box-viz">
        <div style="position: absolute; top: 20px; color: var(--primary-blue); font-weight: bold; font-size: 18px;">
            Risk Box ä¸‰ç¶­åˆ¤æ–·çŸ©é™£
        </div>
        <div class="scene">
            <div class="axis axis-x"><span class="axis-label" style="right: -80px; color: #e74c3c;">Risk Score â†’</span></div>
            <div class="axis axis-y"><span class="axis-label" style="right: -100px; color: #2ecc71;">Confidence â†‘</span></div>
            <div class="axis axis-z"><span class="axis-label" style="right: -90px; color: var(--primary-blue);">AI Filter â†—</span></div>
            <div class="cube">
                <div class="face face-front"></div>
                <div class="face face-back"></div>
                <div class="face face-right"></div>
                <div class="face face-left"></div>
                <div class="face face-top"></div>
                <div class="face face-bottom"></div>
                <div class="pulse"></div>
            </div>
        </div>
        <div class="legend">
            â— X: Risk (0-200+)<br>
            â— Y: Confidence (0-1.0)<br>
            â— Z: AI Behavior Tags
        </div>
    </div>

    <p style="text-align: center; margin-top: 30px; color: #95a5a6; font-size: 0.9em;">--- Risk Box å¯¦ä½œè¦ç¯„æ–‡æª”çµæŸ ---</p>
</div>

<script>
    // å¹³æ»‘æ²å‹•
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
</script>

</body>
</html>
